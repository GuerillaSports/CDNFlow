(function(){"use strict";const d=getComputedStyle(document.body).getPropertyValue("--blue");getComputedStyle(document.body).getPropertyValue("--pink");function s(e){if(!e)return;const t=e.querySelectorAll(".title-on-color"),o=e.querySelectorAll(".title-blue");t.length!==o.length&&console.warn("[gs-cdnflow/global]: SHOUD NOT HAPPEN! number of on_color and title-blue are different");for(let n=0;n<Math.max(t.length,o.length);n++){const l=t[n],c=o[n];f(c,l)}}function f(e,t){!e||!t||t.style.color==="white"&&(e.style.color=d)}function g(){console.log("[gs-cdnflow/global]: managing title color contrast...");const e=document.querySelectorAll(".card-label");for(let t of e)s(t)}function m(){console.log("[gs-cdnflow/global]: set navbar active icon");const e=document.querySelector(".navbar__link-block.w--current");if(!e)return;const t={filled:e.querySelector(".navbar__icon--filled"),outlined:e.querySelector(".navbar__icon--outline")};!t.filled||!t.outlined||(console.log("[gs-cdnflow/global]: setting active icon"),t.filled.classList.remove("hidden"),t.outlined.classList.add("hidden"))}function _(e){let t=document.querySelectorAll(".story-titles__custom");if(e){const o=e.querySelector(".story-titles__custom");if(!o)return;i(o);return}for(let o of t)o&&i(o)}function i(e){console.log("[gs-cdnflow/global]: formatting custom story title");const t=e.dataset.customTitle;if(!t)return;const o=e.querySelector(".title-blue"),n=e.querySelector(".title-outline"),l=t;if(!o||!n)return;if(!l.includes(" ")){n.textContent="",o.textContent=l;return}const c=l.split(" "),r={o:c.pop(),b:[...c].join(" ")};if(!r.o||!r.b){console.warn("[gs-cdnflow/global]: error formatting custom title: ",o.textContent);return}o.textContent=r.b,n.textContent=r.o}function b(){const e=document.querySelector(".dynam-list");if(!e)return;const t={childList:!0,subtree:!0};new MutationObserver(n=>{for(let l of n)if(l.addedNodes.length)for(let c of l.addedNodes)console.log("[gs-cdnflow/global]: MutationObeserver detected new content. Managing..."),c&&(i(c),s(c))}).observe(e,t)}const a={DOMContentLoaded:{manage_custom_story_title_instances:_,manageColorContrast:g,setNavBarActiveIcon:m},load:{mange_dynamic_list_content:b}};function y(e){function t(o,n){if(o&&o[n])for(let l in o[n])o[n][l]()}document.addEventListener("DOMContentLoaded",function(){t(a,"DOMContentLoaded"),t(e,"DOMContentLoaded")}),window.addEventListener("load",function(){t(a,"load"),t(e,"load")})}function h(){console.log("[gs-cdnflow/articles]: check sub featured header");const e=!!document.querySelector(".cl-top-articles-list"),t=document.querySelector(".articles__top-stories--header");t&&(e||(t.style.display="none"))}const v={DOMContentLoaded:{checkSubFeaturedHeader:h}},w=window.location.pathname.split("/")[1];let u={};w==="articles"&&(u=v),y(u)})();
