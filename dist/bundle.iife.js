(function(){"use strict";const d=getComputedStyle(document.body).getPropertyValue("--blue");function i(t){if(!t)return;const e=t.querySelectorAll(".title-on-color"),o=t.querySelectorAll(".title-blue");e.length!==o.length&&console.warn("[gs-cdnflow/global]: SHOUD NOT HAPPEN! number of on_color and title-blue are different");for(let n=0;n<Math.max(e.length,o.length);n++){const l=e[n],c=o[n];f(c,l)}}function f(t,e){!t||!e||e.style.color==="white"&&(t.style.color=d)}function g(){console.log("[gs-cdnflow/global]: managing title color contrast...");const t=document.querySelectorAll(".card-label");for(let e of t)i(e)}function m(t){let e=document.querySelectorAll(".story-titles__custom");if(t){const o=t.querySelector(".story-titles__custom");if(!o)return;s(o);return}for(let o of e)o&&s(o)}function s(t){console.log("[gs-cdnflow/global]: formatting custom story title");const e=t.dataset.customTitle;if(!e)return;const o=t.querySelector(".title-blue"),n=t.querySelector(".title-outline"),l=e;if(!o||!n)return;if(!l.includes(" ")){n.textContent="",o.textContent=l;return}const c=l.split(" "),r={o:c.pop(),b:[...c].join(" ")};if(!r.o||!r.b){console.warn("[gs-cdnflow/global]: error formatting custom title: ",o.textContent);return}o.textContent=r.b,n.textContent=r.o}function _(){const t=document.querySelector(".dynam-list");if(!t)return;const e={childList:!0,subtree:!0};new MutationObserver(n=>{for(let l of n)if(l.addedNodes.length)for(let c of l.addedNodes)console.log("[gs-cdnflow/global]: MutationObeserver detected new content. Managing..."),c&&(s(c),i(c))}).observe(t,e)}const u={DOMContentLoaded:{manage_custom_story_title_instances:m,manageColorContrast:g},load:{mange_dynamic_list_content:_}};function y(t){function e(o,n){if(o&&o[n])for(let l in o[n])o[n][l]()}document.addEventListener("DOMContentLoaded",function(){e(u,"DOMContentLoaded"),e(t,"DOMContentLoaded")}),window.addEventListener("load",function(){e(u,"load"),e(t,"load")})}function b(){console.log("[gs-cdnflow/articles]: check sub featured header");const t=!!document.querySelector(".cl-top-articles-list"),e=document.querySelector(".articles__top-stories--header");e&&(t||(e.style.display="none"))}const h={DOMContentLoaded:{checkSubFeaturedHeader:b}},w=window.location.pathname.split("/")[1];let a={};w==="articles"&&(a=h),y(a)})();
