(function(){"use strict";const f=getComputedStyle(document.body).getPropertyValue("--blue");function i(t){if(!t)return;const e=t.querySelector(".title-on-color"),o=t.querySelector(".title-blue");u(o,e)}function u(t,e){!t||!e||e.style.color==="white"&&(t.style.color=f)}function m(){console.log("[gs-cdnflow/global]: managing title color contrast...");const t=document.querySelectorAll(".card-label");for(let e of t)i(e)}function _(t){let e=document.querySelectorAll(".story-titles__custom");if(t){const o=t.querySelector(".story-titles__custom");if(!o)return;s(o);return}for(let o of e)o&&s(o)}function s(t){console.log("[gs-cdnflow/global]: formatting custom story title");const e=t.dataset.customTitle;if(!e)return;const o=t.querySelector(".title-blue"),n=t.querySelector(".title-outline"),c=e;if(!o||!n)return;if(!c.includes(" ")){n.textContent="",o.textContent=c;return}const l=c.split(" "),r={o:l.pop(),b:[...l].join(" ")};if(!r.o||!r.b){console.warn("[gs-cdnflow/global]: error formatting custom title: ",o.textContent);return}o.textContent=r.b,n.textContent=r.o;const S=t.querySelector(".title-on-color");u(o,S)}function g(){const t=document.querySelector(".dynam-list");if(!t)return;const e={childList:!0,subtree:!0};new MutationObserver(n=>{for(let c of n)if(c.addedNodes.length)for(let l of c.addedNodes)console.log("[gs-cdnflow/global]: MutationObeserver detected new content. Managing..."),l&&(s(l),i(l))}).observe(t,e)}const a={DOMContentLoaded:{manage_custom_story_title_instances:_,manageColorContrast:m},load:{mange_dynamic_list_content:g}};function y(t){function e(o,n){if(o&&o[n])for(let c in o[n])o[n][c]()}document.addEventListener("DOMContentLoaded",function(){e(a,"DOMContentLoaded"),e(t,"DOMContentLoaded")}),window.addEventListener("load",function(){e(a,"load"),e(t,"load")})}function b(){console.log("[gs-cdnflow/articles]: check sub featured header");const t=!!document.querySelector(".cl-top-articles-list"),e=document.querySelector(".articles__top-stories--header");e&&(t||(e.style.display="none"))}const C={DOMContentLoaded:{checkSubFeaturedHeader:b}},w=window.location.pathname.split("/")[1];let d={};w==="articles"&&(d=C),y(d)})();
